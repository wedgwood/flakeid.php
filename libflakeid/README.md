from https://github.com/wedgwood/flakeid.c
